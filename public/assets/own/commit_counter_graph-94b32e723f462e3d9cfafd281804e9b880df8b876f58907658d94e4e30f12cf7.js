var create_commit_graph=function(t,e){function a(){c.append("g").attr({"class":"chart_area",transform:"translate("+s.left+", "+s.top+")"});var a=d3.scale.linear().domain([0,d3.max(e)]).range([0,u]).nice();c.select(".chart_area").append("text").transition().duration(f).each("start",function(){d3.select(this).attr({"class":"chart_title",x:p-50,y:u/2,"font-family":"sans-serif","font-size":"20px","text-anchor":"middle","dominant-baseline":"middle","writing-mode":"tb",fill:"#777777",opacity:0}).text("\u30b3\u30df\u30c3\u30c8\u6570")}).attr({opacity:1});var n=d3.svg.line().x(function(t){return t[0]}).y(function(t){return t[1]});c.select(".chart_area").append("path").transition().duration(f).each("start",function(){d3.select(this).attr({"class":"xaxis",d:n([[p-20,u-a(r())],[p-20+60*t.length+20,u-a(r())]]),stroke:"#aaaaaa","stroke-width":1,"stroke-dasharray":10,opacity:0})}).attr({opacity:1}),c.select(".chart_area").append("text").transition().duration(f).each("start",function(){d3.select(this).attr({"class":"average_label",x:p-20+60*t.length+22,y:u-a(r())-10,"font-family":"sans-serif","font-size":"15px","text-anchor":"start","dominant-baseline":"middle",fill:"#777777",opacity:0}).text("\u5e73\u5747")}).attr({opacity:1}),c.select(".chart_area").append("text").transition().duration(f).each("start",function(){d3.select(this).attr({"class":"average_label",x:p-20+60*t.length+22,y:u-a(r())+10,"font-family":"sans-serif","font-size":"15px","text-anchor":"start","dominant-baseline":"middle",fill:"#777777",opacity:0}).text(r())}).attr({opacity:1}),c.select(".chart_area").selectAll(".bar").data(e).enter().append("rect").attr("class","bar").attr({width:40,height:0,x:function(t,e){return p+60*e},y:u,fill:l,opacity:1}).transition().duration(f).delay(f).attr({height:function(t,e){return a(t)},y:function(t,e){return u-a(t)}}),c.select(".chart_area").selectAll(".bar_figure").data(e).enter().append("text").attr("class","bar_figure").text(function(t){return t}).attr({x:function(t,e){return p+60*e+20},y:function(t,e){return u-a(t)-10},"font-family":"sans-serif","font-size":"15px","text-anchor":"middle","dominant-baseline":"middle",fill:"#777777",opacity:0}).transition().delay(2*f).duration(f).attr({opacity:1}),c.select(".chart_area").selectAll(".developer_label").data(t).enter().append("text").attr("class","developer_label").text(function(t){return t}).attr({x:function(t,e){return p+60*e+20},y:function(t,e){return u+10},"font-family":"sans-serif","font-size":"15px","text-anchor":"start","dominant-baseline":"middle","writing-mode":"tb",fill:"#777777",opacity:0}).transition().delay(f).duration(f).attr({opacity:1}),c.select(".chart_area").append("path").transition().duration(f).each("start",function(){d3.select(this).attr({"class":"yaxis",d:n([[p-20,u],[p-20,0]]),stroke:"#aaaaaa","stroke-width":1,opacity:0})}).attr({opacity:1}),c.select(".chart_area").append("path").transition().duration(f).each("start",function(){d3.select(this).attr({"class":"xaxis",d:n([[p-20,u],[p-20+60*t.length+20,u]]),stroke:"#aaaaaa","stroke-width":1,opacity:0})}).attr({opacity:1})}function n(){for(var a=["#4f81bd","#c0504d"],n=["#99b6d9","#db9a98"],r=[10,8],l=["\u958b\u767a\u8005\u306e\u767b\u9332\u9806","\u30b3\u30df\u30c3\u30c8\u6570\u9806"],o=0,i=[],s=[],u=[],d=[],h=0;h<e.length;h++)i.push(e[h]),s.push(e[h]),u.push(t[h]);s.sort(function(t,e){return e>t?-1:t>e?1:0});for(var h=0;h<t.length;h++)for(var m=0;m<t.length;m++)if(s[h]==i[m]){d.push(u[m]),i.splice(m,1),u.splice(m,1);break}c.select(".chart_area").append("g").attr("class","sort").attr("transform","translate("+(p-20+60*t.length+80)+", 20)"),c.select(".chart_area").select(".sort").append("text").attr("class","function_name").text("Sort").attr({x:0,y:0,"font-family":"sans-serif","font-size":"15px","text-anchor":"start","dominant-baseline":"middle",fill:"#777777",opacity:0}).transition().duration(f).delay(f).attr({opacity:1}),c.select(".chart_area").select(".sort").selectAll(".button").data(r).enter().append("circle").attr("class","button").attr({cx:10,cy:20,r:0,fill:function(t,e){return 0==e?n[0]:1==e?a[0]:void 0},opacity:0}).transition().duration(f).delay(f).attr({r:function(t,e){return r[e]},opacity:1}),c.select(".chart_area").select(".sort").selectAll(".button").on("mouseover",function(){c.select(".chart_area").select(".sort").selectAll(".button").data(r).attr("fill",function(t,e){return 0==e?n[1]:1==e?a[1]:void 0})}).on("mouseout",function(){c.select(".chart_area").select(".sort").selectAll(".button").data(r).attr("fill",function(t,e){return 0==e?n[0]:1==e?a[0]:void 0})}).on("click",function(){o=(o+1)%l.length,c.select(".chart_area").select(".sort").select(".sort_name").text(l[o]),0==o?(c.select(".chart_area").selectAll(".developer_label").data(t).transition().duration(f).attr("x",function(t,e){return p+60*e+20}),c.select(".chart_area").selectAll(".bar").data(t).transition().duration(f).attr("x",function(t,e){return p+60*e}),c.select(".chart_area").selectAll(".bar_figure").data(t).transition().duration(f).attr("x",function(t,e){return p+60*e+20})):1==o&&(c.select(".chart_area").selectAll(".developer_label").data(t).transition().duration(f).attr("x",function(e){for(var a=0;a<t.length;a++)if(e==d[a])return p+60*(t.length-1-a)+20}),c.select(".chart_area").selectAll(".bar").data(t).transition().duration(f).attr("x",function(e){for(var a=0;a<t.length;a++)if(e==d[a])return p+60*(t.length-1-a)}),c.select(".chart_area").selectAll(".bar_figure").data(t).transition().duration(f).attr("x",function(e){for(var a=0;a<t.length;a++)if(e==d[a])return p+60*(t.length-1-a)+20}))}),c.select(".chart_area").select(".sort").append("text").attr("class","sort_name").text(l[o]).attr({x:22,y:22,"font-family":"sans-serif","font-size":"15px","text-anchor":"start","dominant-baseline":"middle",fill:"#777777",opacity:0}).transition().duration(f).delay(f).attr("opacity",1)}function r(){for(var t=0,a=0;a<e.length;a++)t+=e[a];return t/=e.length,t.toFixed(1)}var t=t,e=e,l="#4f81bd",o=960,i=540,s={top:50,right:100,bottom:0,left:150},c=d3.select("body").append("svg").attr({"class":"commit_counter_graph",width:o,height:i}),f=800,p=100,u=300;a(),n()};